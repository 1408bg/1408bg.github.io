const state = new Map();
const elements = new Map();

function useState(identifier, value) {
  if (!state.has(identifier)) {
    state.set(identifier, value);
    elements.set(identifier, []);
  } else {
    console.warn(`Identifier "${identifier}" already exists.`);
  }
}

function getElements(query) {
  return document.querySelectorAll(query);
}

function linkState(query, identifier) {
  const domElements = getElements(query);
  if (elements.has(identifier)) {
    domElements.forEach(element => {
      elements.get(identifier).push(element);
      element.innerHTML = state.get(identifier);
    });
  } else {
    console.error(`Identifier "${identifier}" does not exist. Use useState to create it first.`);
  }
}

function setState(identifier, value) {
  if (state.has(identifier)) {
    state.set(identifier, value);
    const linkedElements = elements.get(identifier);
    if (linkedElements) {
      linkedElements.forEach(element => {
        element.innerHTML = value;
      });
    }
  } else {
    console.error(`Identifier "${identifier}" does not exist. Use useState to create it first.`);
  }
}
